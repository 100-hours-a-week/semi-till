# ✴️TIL

## 날짜: 2024-12-16

### 스크럼

- 학습 목표 1 : 회원가입 중복검사🔥🔥🔥
- 학습 목표 2:  도커 복습 ✅

### 새로 배운 내용

## 1️⃣주제 1: 컨테이너 & 노드

### 노드

- 컨테이너가 배포되는 서버 (물리적/가상머신)
- 여러 컨테이너가 하나의 노드에서 실행될 수 있다.

### 컨테이너

- 애플리케이션과 종속성을 패키징한 **실행 단위** ⇒ **‘애플리케이션과 관련된 모든것을 패키징 했다!’**
    - 애플리케이션에 필요한 **라이브러리**
    - **환경 설정 파일**
- 컨테이너는 **‘호스트 OS 커널’**을 공유한다.
    - 컨테이너는 자체 OS 커널이 없다.
- 특정 애플리케이션과 환경 구성을 캡슐화 하여 독립적으로 실행하기 때문에 어느 환경이서든 동일하게 실행할 수 있다.

## 2️⃣주제 2: 컨테이너 한계점

### 고립성의 한계

1. 컨테이너는 커널을 공유하므로, 같은 호스트 시스템 내에서 다른 컨테이너와 리소스를 공유한다. (VM처럼 독립적인 OS를 실행하지 않음)

2. 컨테이너 내에서 실행되는 애플리케이션은 호스트 OS에 의존하므로 보안이나 격리 측면에서 제약이 생길 수 있다.

### 저장소 관리 어려움

1. 컨테이너는 기본적으로 statless 애플리케이션을 처리하는데 최적화 되어있다.
    - why? → 컨테이너는 기본적으로 애플리케이션을 빠르게 시작해 종료할 수 있도록 설계되었다. (일시적+가벼움)
    - **만약 컨테이너가 종료되거나 재시작 되면, 내부에서 생성된 데이터는 사라진다.**

2. 데이터의 영속성을 보장하려면 **외부 저장소를 설정해야한다. (볼륨, 네트워크 스토리지)**

### **높은 성능 요구**

1. **컨테이너는 오버헤드가 적지만**, 여전히 **하드웨어와의 직접적인 상호작용**에서 **가상 머신**에 비해 성능이 떨어질 수 있다.

## 3️⃣주제 3: 컨테이너 클러스터

### 컨테이너 클러스터

1. ‘컨테이너’ 기반 애플리케이션을 관리하는 특화된 시스템이다.
    - ⇒ 컨테이너化 한 애플리케이션을 관리하는 클러스터

<br/>

>**클러스터**
>여러 노드를  결합해 하나의 시스템처럼 관리하는 일반적인 개념
> **컨테이너 클러스터**
>컨테이너 기반 애플리케이션을 관리하는 특화된 시스템

<br/>

1. **컨테이너를 클러스터 형식으로 관리한다**
    - ==(컨테이너가 여러 노드에 분산되어 관리된다.)
    - ==(여러 노드에 컨테이너들을 배포하고 실행 상태를 유지한다.)
    - ex) 부하분산, 스케일링, 장애복

2. if (**‘컨테이너 클러스터 관리를 ‘자동화된 방식’으로 수행한다** )
    - == 클러스터 오케스트레이션 도구를 사용한다. (Docker Swarm,Kubernetes)

## ❗복습하며 정리한 Q&A

### ❓컨테이너들은 다 동일한 동작을 위해 구성된건가?

1. 컨테이너들은 반드시 동일한 동작을 수행하진 않는다.

2. if (같은 역할을 수행)
    - 주문 시스템의 백엔드 API 서버 컨테이너가 여러 개이다 → 부하분산 목적
    - 동일한 동작을 수행하지만, 여러 노드로 분산할 수 있다.

3. if (다른 역할을 수행)
    - 주문 시스템 - 백엔드 API 서버, DB, 프론트 서버
    - 각 컨테이너는 다른 역할을 수행한다.

### ❓각 노드에 여러 컨테이너가 들어있고, 하나의 동작을 이룬다고 이해하면 되는지?

1. 그렇다.

2. 노드에는 다양한 컨테이너가 실행되고, 이들은 함께 동작해서 전체 시스템을 완성한다.

3. ex) 하나의 노드에 API 서버와 Redis 캐시 컨테이너가 있고, 다른 노드에는 데이터베이스 컨테이너가 있다면, 이 모든 컨테이너들이 협력해서 하나의 애플리케이션을 구성한다.
    - **잠깐만, 그러면 각 노드는 개별적인 ‘애플리케이션’이 아니라, 애플리케이션의 ‘구성’이라는것인가?**
        - 노드는 애플리케이션이 아니고, 애플리케이션을 실행하는 리소스 이다.
        - 여러 노드를 사용해 하나의 애플리케이션 시스템을 구성한다.

### ❓컨테이너는 동일한 동작을 위한 실행단위인가?

1. 엄밀히 말하면, 컨테이너는 ‘특정 애플리케이션의 특정 역할’을 수행하는 실행 단위이다.

2. ex) 주문 시스템
    - 노드: 여러 컨테이너를 담는 서버
    - 컨테이너 A: 주문 관리 API 서버
    - 컨테이너 B : 주문 데이터베이스
    - 컨테이너 C: 결제 서비스 API

### ❓**노드는 컨테이너를 실행하는 일종의 들판이라 생각해도 되나?**

1. **비유적으로 맞다.**

2. **노드 비유:**
    - **노드는 들판/밭**이라고 생각할 수 있다.
    - 이 들판에 **컨테이너(작물)**를 심어서 **실행(성장)** 시킨다.
    - 들판(노드)은 리소스(CPU, 메모리, 스토리지)를 제공하고,
    - Kubernetes 같은 시스템은 컨테이너들이 어디에 배치될지 자동으로 결정해준다.

### ❓서버에 올라가는 컨테이너들은 다 관련된 기능을 하는 컨테이너가 올라가는 것인지? 그럼 이걸 결정하는 게 Kubernetes?

1. **맞다.**
   
2. **컨테이너의 배치:**
    - 컨테이너들은 특정 애플리케이션의 **관련된 기능**을 수행하도록 만들어진다.
    - Kubernetes(K8S)는 **컨테이너 오케스트레이션 도구**로,
    1. 컨테이너의 **배치**(어느 노드에서 실행할지)
    2. **확장성 관리**(필요 시 더 많은 컨테이너 생성)
    3. **복구 관리**(장애 발생 시 자동 재시작) 등을 관리한다.
3. **작동 방식:**
    - 개발자가 Kubernetes에 "어떤 컨테이너가 필요하다"는 **설정 파일(배포 스크립트)**을 제공한다.
    - Kubernetes는 **현재 리소스 상태**를 확인하고, 컨테이너가 **어디에**, **몇 개**나 **어떻게** 배치될지 결정한다.
4. **예시:**
- 배달 앱에서 **주문 관리 API**와 **결제 API**가 있다고 가정하면:
    - 주문 관리 API 컨테이너 3개
    - 결제 API 컨테이너 2개
    - 데이터베이스 컨테이너 1개
5. Kubernetes는 이들을 적절히 **노드에 배치**하고 **부하 분산**과 **자동 복구**까지 관리한다.

### 오늘의 회고

docker를 복습하느라 늦게 자서 그런지 오늘 몰입에는 실패했다.. 오늘부터 다시 몰입시작이다~~

‘즐기고 있는 자기 자신에게 몰입하는 것’ 이라고 하니 즐기다보면 몰입도 잘 되지 않을까 싶다..
