# TIL

## 날짜: 2024-11-29

### 스크럼

- 학습 목표 1 : 수업 복습🔥🔥

### 새로 배운 내용

## 1️⃣주제 1: 베어메탈서버 & 커널

## 베어메탈 서버
1. 하드웨어! 그 잡채
2. 나만의 전용 서버, 가상 자원이 아닌 실제 물리적 자원 (cpu,메모리)를 사용하고 싶을 때 사용한다.
3. 가상화된 cpu보다 성능이 좋고, 성능 오버헤드가 생기지 않는다.
4. 베어메탈 서버를 사용하는 이유 → KVM을 실행시킬 수 있다.

## 커널

- **OS - 하드웨어 사이에서 자원을 관리하고 할당하는 핵심 도구**
    - Process Management
    - Memory Management
    - Network Management
  
### **커널 유형**

1. **모놀리식 커널**: 모든 기능이 하나의 커널에 포함된다. 빠른 성능! (ex. Linus, Unix)
2. **마이크로 커널** : 모놀리식 커널의 핵심 동작만 구현하여 가볍게 만든 커널
3. **하이브리드 커널**: 모놀리식 + 마이크로커널 (ex. Windows)

<br/>

## 2️⃣주제 2: 가상화

### 가상화 (Virtualization)

- 실제 물리적 자원(서버, 스토리지, 네트워크)를 **논리적**으로 분리하는 것.
    - **논리적** : 실제로 존재하지 않지만, 시스템이나 사용자가 물리적 자원 처럼 인식할 수 있도록 만든 추상적 형태
    (+) 하나의 CPU를 나눠 쓰지만, 각 가상 서버는 자신만의 CPU가 있는 것처럼 인식하고 동작한다. + 실제로 독립적으로 실행한다.
    - 예시
        - 물리적 하드웨어 : **아파트 건물**
        - 가상 서버 : **각 세대 집 
        → 자신이 독립되어 있다고 생각하지만, 하나의 아파트 건물을 공유하고 있다.**

### **가상화 종류**

- **하이퍼바이저 == VM을 관리/실행하는 소프트웨어**
1. **Type1  하이퍼바이저 (Baremetal Hypervisor)**
    - 하이퍼바이저가 OS 없이 커널 안(하드웨어) 위에서 설치되는 방식
        - OS가 없기 때문에 하드웨어 자원을 직접 관리한다.
    - 하드웨어에 직접 접근하기 때문에 오버헤드가 적다.
    - enterprise化 적인 환경에서 많이 사용한다
    
    ⇒ 정리 : 성능과 효율성이 좋고 안정적이다. 다만 직접 관리해야하는 부담이 있다.
    
2. **Type2  하이퍼바이저 (Hosted Hyervisor)**
    - 하이바이저가 기존 OS 위에서 실행되는 방식 → 간편하게 설치할 수 있다.
    - **호스트 OS(기존 OS)를 통해 하드웨어에 접근한다.**
    - OS위에서 실행되므로 OS의 성능과 상태에 영향을 받는다. → 오버헤드가 발생할 수  있다.
    - 일반적으로 우분투에 띄워서 사용 할 때 적용되는 방식이다.
    
    ⇒ 정리: 더 간단하고 편하게 사용할 수 있다. 하지만 성능이 Type1에 비해 낫다.

<br/>

## 3️⃣주제 3: KVM

### KVM (커널 기반 가상머신)

- Linux 기반으로 작동하는 오픈소스 가상화 기술
- Linux OS를 하이퍼바이저로 변환하여 가상머신을 실행할 수 있도록 한다.
- ⇒ **Linux 자체를 Type1 하이퍼바이저로 동작하도록 만드는 기술**

### 주요구성

1. **하드웨어 :**
    - KVM을 동작시키려면, **CPU가 가상화 기능을 지원해야한다.**
    - Intel VT-X , AMD-V 사용
    <br/>
   
    >
    >📢
    >**하드웨어 가상화가 필요한이유**
    >1. 가상화 환경에서 여러 OS가 하드웨어에 한꺼번에 접근하면 충돌이 일어날 수 있다.
    >2. 따라서 CPU와 메모리 접근을 하드웨어가 직접 관리한다.
    >⇒ CPU가 직접 명렁어를 처리 & 스케줄링을 한다.
    
3. **Linux 커널 (host OS)**
    - KVM 모듈을 통해 Hypervisor 역할 수행
4. **KVM 모듈**
    - Linux 커널 모듈
    - CPU, 메모리 가상화를 담당. Linux 커널을 Hypervisor로 변환한다.
    - 모듈 형태로 존재한다. (kvm.ko, kvm-intel.ko, kvm-amd.ko)
      
5. **QEMU** 
    - 가상 머신을 에뮬레이션하는 소프트웨어
    - ※ **에뮬레이터** : 다른 하드웨어, 운영체제를 소프트웨어적으로 모방하여 해당 환경에서도 실행되도록 하는 도구 
    → 원래 시스템에서 실행된 환경과 달라도 실행될 수 있다.

6. **Libvirt**
    - 가상 머신 관리 도구 (providing a tool set for manging VMs)
